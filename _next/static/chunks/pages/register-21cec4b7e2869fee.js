(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[495],{9219:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/register",function(){return n(7601)}])},6221:function(t,e,n){"use strict";n.d(e,{LF:function(){return a},ge:function(){return s}});var o=n(5103);let a=(0,o.cn)(null),s=(0,o.cn)({latitude:null,longitude:null});(0,o.cn)(!0)},9854:function(t,e,n){"use strict";n.d(e,{g:function(){return Loading}});var o=n(5893),a=n(7294),s=n(3935);let Portal=t=>{let{children:e}=t,[n,o]=(0,a.useState)();return(0,a.useEffect)(()=>{let t=document.createElement("div");return document.body.appendChild(t),o(t),()=>{document.body.removeChild(t)}},[]),n?s.createPortal(e,n):null};var c=n(8046),r=n.n(c);let Loading=t=>t.visible?(0,o.jsx)(Portal,{children:(0,o.jsx)("div",{className:r().container,children:(0,o.jsx)("div",{className:r().loader})})}):null},2176:function(t,e,n){"use strict";n.d(e,{r:function(){return useLoading}});var o=n(5893),a=n(5103),s=n(8583),c=n(7294),r=n(9854);let i=(0,a.cn)(0),l=(0,a.cn)(t=>t(i)>0),useLoading=()=>{let[t,e]=(0,s.KO)(i),[n]=(0,s.KO)(l),a=(0,c.useCallback)(()=>e(t+1),[t,e]),d=(0,c.useCallback)(()=>e(t-1),[t,e]);return{loadingElm:(0,o.jsx)(r.g,{visible:n}),addLoading:a,removeLoading:d}}},7601:function(t,e,n){"use strict";n.r(e);var o=n(5893),a=n(7357),s=n(4238),c=n(9417),r=n(5861),i=n(1259),l=n(8583),d=n(1163),u=n(7294),h=n(6221),g=n(5066),p=n(6386),m=n(6819),_=n(2176),y=n(420),j=n.n(y),x=n(2961),b=n(2450),f=n(3946);e.default=()=>{let[,t]=(0,l.KO)(h.LF),{loadingElm:e,addLoading:n,removeLoading:y}=(0,_.r)(),[E,$]=(0,u.useState)(""),[v,T]=(0,u.useState)(""),[w,C]=(0,u.useState)(!1),G=(0,d.useRouter)(),[k,L]=(0,u.useState)(""),signUpWithEmail1=async(e,n)=>{let o=(0,p.l)();try{let e=await (0,i.Xb)(o,E,n),a=e.user.uid,s={id:a,email:"",displayName:"",photoURL:""};t(s),await g.x.user.post({body:{userID:a}}).catch(m.F),localStorage.setItem("user",JSON.stringify(s)),console.log("新規登録成功")}catch(t){throw console.error("新規登録失敗",t),t}},createAccount=async()=>{n();try{L(""),await signUpWithEmail1(E,v),await G.push("/")}catch(t){L("サインアップに失敗しました")}y()},handleChange=async()=>{await G.push("/login")};return(0,o.jsxs)("div",{className:j().container,children:[(0,o.jsxs)("div",{className:j().main,children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("img",{className:j().appImage,src:"/images/applogo1.png",alt:"APP logo",style:{position:"relative",right:"-5px",top:"-15px"}}),(0,o.jsx)("img",{className:j().logoImage,src:"/images/logo.png",alt:"ARMapConnect Logo"})]}),(0,o.jsx)("div",{}),(0,o.jsxs)(a.Z,{sx:{display:"flex",flexDirection:"column",alignItems:"center",textAlign:"center",justifyContent:"center",p:3,width:"100%",maxWidth:400},children:[(0,o.jsx)(s.Z,{label:"Email",type:"email",variant:"outlined",value:E,onChange:t=>$(t.target.value),fullWidth:!0,sx:{mt:2}}),(0,o.jsx)(s.Z,{label:"Password",type:w?"text":"password",variant:"outlined",value:v,onChange:t=>T(t.target.value),fullWidth:!0,sx:{mt:2},InputProps:{endAdornment:(0,o.jsx)(f.Z,{"aria-label":"toggle password visibility",onClick:()=>{C(!w)},children:w?(0,o.jsx)(b.Z,{}):(0,o.jsx)(x.Z,{})})}}),(0,o.jsxs)(a.Z,{sx:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center",p:3,width:"100%",maxWidth:400},children:[(0,o.jsx)(c.Z,{variant:"contained",sx:{mt:2,mr:2},onClick:createAccount,children:"新規登録"}),(0,o.jsx)(c.Z,{variant:"contained",sx:{mt:2},onClick:()=>{let t=new Date().getTime(),e="user".concat(Math.floor(1e4*Math.random())).concat(t,"@example.com"),n="",o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let t=0;t<14;t++)n+=o.charAt(Math.floor(Math.random()*o.length));$(e),T(n)},children:"ランダム生成"})]}),k&&(0,o.jsx)(r.Z,{color:"error",sx:{mt:2},children:k})]}),k&&(0,o.jsx)(r.Z,{color:"error",sx:{mt:2},children:k}),(0,o.jsx)(c.Z,{variant:"outlined",color:"primary",sx:{mt:2},onClick:handleChange,children:"戻る"})]}),e]})}},5066:function(t,e,n){"use strict";n.d(e,{x:function(){return c}});var o=n(9239),a=n(7080),s=n(6154);let c=(t=>{let{baseURL:e,fetch:n}=t,o=(void 0===e?"":e).replace(/\/$/,""),s="/health",c="/likes",r="/myPost",i="/posts",l="/session",d="/tasks",u="/tasks/di",h="/test",g="/user",p="POST",m="DELETE",_="PATCH";return{health:{get:t=>n(o,s,"GET",t).json(),$get:t=>n(o,s,"GET",t).json().then(t=>t.body),$path:()=>"".concat(o).concat(s)},likes:{get:t=>n(o,c,"GET",t).json(),$get:t=>n(o,c,"GET",t).json().then(t=>t.body),post:t=>n(o,c,p,t).json(),$post:t=>n(o,c,p,t).json().then(t=>t.body),patch:t=>n(o,c,_,t).json(),$patch:t=>n(o,c,_,t).json().then(t=>t.body),delete:t=>n(o,c,m,t).text(),$delete:t=>n(o,c,m,t).text().then(t=>t.body),$path:t=>"".concat(o).concat(c).concat(t&&t.query?"?".concat((0,a._K)(t.query)):"")},me:{get:t=>n(o,"/me","GET",t).json(),$get:t=>n(o,"/me","GET",t).json().then(t=>t.body),$path:()=>"".concat(o).concat("/me")},myPost:{get:t=>n(o,r,"GET",t).json(),$get:t=>n(o,r,"GET",t).json().then(t=>t.body),post:t=>n(o,r,p,t).send(),$post:t=>n(o,r,p,t).send().then(t=>t.body),delete:t=>n(o,r,m,t).send(),$delete:t=>n(o,r,m,t).send().then(t=>t.body),$path:t=>"".concat(o).concat(r).concat(t&&t.query?"?".concat((0,a._K)(t.query)):"")},posts:{get:t=>n(o,i,"GET",t).json(),$get:t=>n(o,i,"GET",t).json().then(t=>t.body),post:t=>n(o,i,p,t).send(),$post:t=>n(o,i,p,t).send().then(t=>t.body),$path:t=>"".concat(o).concat(i).concat(t&&t.query?"?".concat((0,a._K)(t.query)):"")},session:{post:t=>n(o,l,p,t).json(),$post:t=>n(o,l,p,t).json().then(t=>t.body),delete:t=>n(o,l,m,t).json(),$delete:t=>n(o,l,m,t).json().then(t=>t.body),$path:()=>"".concat(o).concat(l)},tasks:{_taskId:t=>{let e="".concat(d,"/").concat(t);return{patch:t=>n(o,e,_,t).json(),$patch:t=>n(o,e,_,t).json().then(t=>t.body),delete:t=>n(o,e,m,t).json(),$delete:t=>n(o,e,m,t).json().then(t=>t.body),$path:()=>"".concat(o).concat(e)}},di:{get:t=>n(o,u,"GET",t).json(),$get:t=>n(o,u,"GET",t).json().then(t=>t.body),$path:()=>"".concat(o).concat(u)},get:t=>n(o,d,"GET",t).json(),$get:t=>n(o,d,"GET",t).json().then(t=>t.body),post:t=>n(o,d,p,t).json(),$post:t=>n(o,d,p,t).json().then(t=>t.body),patch:t=>n(o,d,_,t).json(),$patch:t=>n(o,d,_,t).json().then(t=>t.body),delete:t=>n(o,d,m,t).json(),$delete:t=>n(o,d,m,t).json().then(t=>t.body),$path:t=>"".concat(o).concat(d).concat(t&&t.query?"?".concat((0,a._K)(t.query)):"")},test:{get:t=>n(o,h,"GET",t).text(),$get:t=>n(o,h,"GET",t).text().then(t=>t.body),$path:()=>"".concat(o).concat(h)},user:{get:t=>n(o,g,"GET",t).json(),$get:t=>n(o,g,"GET",t).json().then(t=>t.body),post:t=>n(o,g,p,t).send(),$post:t=>n(o,g,p,t).send().then(t=>t.body),$path:t=>"".concat(o).concat(g).concat(t&&t.query?"?".concat((0,a._K)(t.query)):"")},get:t=>n(o,"","GET",t).text(),$get:t=>n(o,"","GET",t).text().then(t=>t.body),$path:()=>"".concat(o)}})((0,o.Z)(s.Z.create({withCredentials:!0})))},6386:function(t,e,n){"use strict";let o;n.d(e,{l:function(){return createAuth}});var a=n(3977),s=n(1259),c=n(3454);let createAuth=()=>{if(void 0!==o)return o;if(void 0!==c.env.NEXT_PUBLIC_AUTH_EMULATOR_URL){console.log("ローカル環境");let t=(0,s.v0)((0,a.ZF)({apiKey:"fake-api-key",authDomain:location.hostname}));return(0,s.S$)(t,c.env.NEXT_PUBLIC_AUTH_EMULATOR_URL,{disableWarnings:!0}),o=t,t}{console.log("本番環境");let t=JSON.parse(""),e=(0,s.v0)((0,a.ZF)(t));return o=e,e}}},6819:function(t,e,n){"use strict";n.d(e,{F:function(){return returnNull}});let returnNull=()=>null},8046:function(t){t.exports={container:"Loading_container__wV1ri",loader:"Loading_loader__cpdbt",load:"Loading_load__8NQtO"}},420:function(t){t.exports={container:"register_container__eyHGd",main:"register_main__McpOr",appname:"register_appname__4YNmJ",register:"register_register__JKHBP",registerLink:"register_registerLink__aymRJ",title:"register_title__SWO1g",btn:"register_btn__MZ6m2",logoImage:"register_logoImage___u7aM",appImage:"register_appImage__MlFtb"}}},function(t){t.O(0,[661,583,941,911,794,774,888,179],function(){return t(t.s=9219)}),_N_E=t.O()}]);