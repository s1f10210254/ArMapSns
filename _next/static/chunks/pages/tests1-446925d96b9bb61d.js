(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[40],{9176:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/tests1",function(){return n(9536)}])},9536:function(e,t,n){"use strict";n.r(t);var s=n(5893),r=n(8583),i=n(7294),o=n(6221),l=n(9854),a=n(9477),c=n(1711),u=n(7157),h=n(8036),d=n.n(h);t.default=()=>{let[e]=(0,r.KO)(o.LF),[t,n]=(0,i.useState)(!1),h=(0,i.useRef)(null),f=(0,i.useRef)(null);(0,i.useEffect)(()=>{setTimeout(()=>{null!==f.current&&void 0!==f.current&&n(!0)},0)},[]),console.log(t);let v="!!!!!!!!!!!!";return((0,i.useEffect)(()=>{if(t&&null!==f.current){console.log("canvasRef読み込まれた"),navigator.mediaDevices.getUserMedia({video:!0}).then(e=>{h.current&&(h.current.srcObject=e)}).catch(e=>{console.error("カメラへのアクセスに失敗しました: ",e)});let e=new a.xsS,t=f.current.clientWidth,n=f.current.clientHeight,s=t/n,r=new a.cPb(75,s,.1,1e3);r.position.z=1.8;let i=new a.CP7({alpha:!0});i.setSize(t,n),f.current.appendChild(i.domElement);let o=new u.J;o.load("/fonts/helvetiker_regular.typeface.json",function(t){let n=new c.M(v,{font:t,size:.2,height:.02,curveSegments:10,bevelEnabled:!0,bevelThickness:.01,bevelSize:.01,bevelSegments:1}),s=new a.vBJ({color:16775408}),o=new a.Kj0(n,s),l=.136*v.length;o.position.set(-l,0,0),e.add(o);let u=.005,animate=()=>{requestAnimationFrame(animate),o.scale.z+=u,(o.scale.z>1||o.scale.z<.1)&&(u*=-1),i.render(e,r)};animate()})}},[t]),e)?(0,s.jsxs)("div",{children:[(0,s.jsx)("video",{className:d().videoFull,ref:h,autoPlay:!0}),(0,s.jsx)("div",{className:d().canvas,ref:f})]}):(0,s.jsx)(l.g,{visible:!0})}},8036:function(e){e.exports={container:"tests1_container__tJytf",videoFull:"tests1_videoFull__waT3b",canvas:"tests1_canvas__ErtFe"}},1711:function(e,t,n){"use strict";n.d(t,{M:function(){return TextGeometry}});var s=n(9477);let TextGeometry=class TextGeometry extends s.O7d{constructor(e,t={}){let n=t.font;if(void 0===n)super();else{let s=n.generateShapes(e,t.size);t.depth=void 0!==t.height?t.height:50,void 0===t.bevelThickness&&(t.bevelThickness=10),void 0===t.bevelSize&&(t.bevelSize=8),void 0===t.bevelEnabled&&(t.bevelEnabled=!1),super(s,t)}this.type="TextGeometry"}}},7157:function(e,t,n){"use strict";n.d(t,{J:function(){return FontLoader}});var s=n(9477);let FontLoader=class FontLoader extends s.aNw{constructor(e){super(e)}load(e,t,n,r){let i=this,o=new s.hH6(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(e){let n=i.parse(JSON.parse(e));t&&t(n)},n,r)}parse(e){return new Font(e)}};let Font=class Font{constructor(e){this.isFont=!0,this.type="Font",this.data=e}generateShapes(e,t=100){let n=[],r=function(e,t,n){let r=Array.from(e),i=t/n.resolution,o=(n.boundingBox.yMax-n.boundingBox.yMin+n.underlineThickness)*i,l=[],a=0,c=0;for(let e=0;e<r.length;e++){let t=r[e];if("\n"===t)a=0,c-=o;else{let e=function(e,t,n,r,i){let o,l,a,c,u,h,d,f;let v=i.glyphs[e]||i.glyphs["?"];if(!v){console.error('THREE.Font: character "'+e+'" does not exists in font family '+i.familyName+".");return}let p=new s.T_1;if(v.o){let e=v._cachedOutline||(v._cachedOutline=v.o.split(" "));for(let s=0,i=e.length;s<i;){let i=e[s++];switch(i){case"m":o=e[s++]*t+n,l=e[s++]*t+r,p.moveTo(o,l);break;case"l":o=e[s++]*t+n,l=e[s++]*t+r,p.lineTo(o,l);break;case"q":a=e[s++]*t+n,c=e[s++]*t+r,u=e[s++]*t+n,h=e[s++]*t+r,p.quadraticCurveTo(u,h,a,c);break;case"b":a=e[s++]*t+n,c=e[s++]*t+r,u=e[s++]*t+n,h=e[s++]*t+r,d=e[s++]*t+n,f=e[s++]*t+r,p.bezierCurveTo(u,h,d,f,a,c)}}}return{offsetX:v.ha*t,path:p}}(t,i,a,c,n);a+=e.offsetX,l.push(e.path)}}return l}(e,t,this.data);for(let e=0,t=r.length;e<t;e++)n.push(...r[e].toShapes());return n}}}},function(e){e.O(0,[737,774,888,179],function(){return e(e.s=9176)}),_N_E=e.O()}]);