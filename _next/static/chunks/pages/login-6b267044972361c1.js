(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[459],{4498:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/login",function(){return t(1819)}])},6221:function(e,n,t){"use strict";t.d(n,{LF:function(){return a},ge:function(){return l}});var i=t(5103);let a=(0,i.cn)(null),l=(0,i.cn)({latitude:null,longitude:null});(0,i.cn)(!0)},9854:function(e,n,t){"use strict";t.d(n,{g:function(){return Loading}});var i=t(5893),a=t(7294),l=t(3935);let Portal=e=>{let{children:n}=e,[t,i]=(0,a.useState)();return(0,a.useEffect)(()=>{let e=document.createElement("div");return document.body.appendChild(e),i(e),()=>{document.body.removeChild(e)}},[]),t?l.createPortal(n,t):null};var o=t(8046),r=t.n(o);let Loading=e=>e.visible?(0,i.jsx)(Portal,{children:(0,i.jsx)("div",{className:r().container,children:(0,i.jsx)("div",{className:r().loader})})}):null},2176:function(e,n,t){"use strict";t.d(n,{r:function(){return useLoading}});var i=t(5893),a=t(5103),l=t(8583),o=t(7294),r=t(9854);let s=(0,a.cn)(0),c=(0,a.cn)(e=>e(s)>0),useLoading=()=>{let[e,n]=(0,l.KO)(s),[t]=(0,l.KO)(c),a=(0,o.useCallback)(()=>n(e+1),[e,n]),u=(0,o.useCallback)(()=>n(e-1),[e,n]);return{loadingElm:(0,i.jsx)(r.g,{visible:t}),addLoading:a,removeLoading:u}}},1819:function(e,n,t){"use strict";t.r(n);var i=t(5893),a=t(7357),l=t(4238),o=t(9417),r=t(5861),s=t(1259),c=t(8583),u=t(1163),d=t(7294),g=t(6221),_=t(6386),m=t(2176),p=t(8256),h=t.n(p),x=t(2961),v=t(2450),f=t(3946);n.default=()=>{let[,e]=(0,c.KO)(g.LF),{loadingElm:n,addLoading:t,removeLoading:p}=(0,m.r)(),[L,N]=(0,d.useState)(""),[j,E]=(0,d.useState)(""),[w,b]=(0,d.useState)(!1),y=(0,u.useRouter)(),[C,k]=(0,d.useState)(""),signInWithEmail1=async(n,t)=>{let i=(0,_.l)();try{let a=await (0,s.e5)(i,n,t),l=a.user.uid;e(e=>({...e,id:l,email:n,displayName:null==e?void 0:e.displayName,photoURL:null==e?void 0:e.photoURL})),console.log("ログイン成功")}catch(e){throw console.error("ログイン失敗",e),e}},loginEmail=async()=>{t();try{k(""),await signInWithEmail1(L,j),await y.push("/")}catch(e){k("ログインに失敗しました")}p()},handleChange=async()=>{await y.push("/register")};return(0,i.jsxs)("div",{className:h().container,children:[(0,i.jsxs)("div",{className:h().main,children:[(0,i.jsx)("img",{className:h().appImage,src:"/images/applogo1.png",alt:"APP logo",style:{position:"relative",right:"-5px",top:"-15px"}}),(0,i.jsx)("img",{className:h().logoImage,src:"/images/logo.png",alt:"ARMapConnect Logo"}),(0,i.jsxs)(a.Z,{sx:{display:"flex",flexDirection:"column",alignItems:"center",p:3,width:"100%",maxWidth:400},children:[(0,i.jsx)(l.Z,{label:"Email",type:"email",variant:"outlined",value:L,onChange:e=>N(e.target.value),fullWidth:!0,sx:{mt:2}}),(0,i.jsx)(l.Z,{label:"Password",type:w?"text":"password",variant:"outlined",value:j,onChange:e=>E(e.target.value),fullWidth:!0,sx:{mt:2},InputProps:{endAdornment:(0,i.jsx)(f.Z,{"aria-label":"toggle password visibility",onClick:()=>{b(!w)},children:w?(0,i.jsx)(v.Z,{}):(0,i.jsx)(x.Z,{})})}}),(0,i.jsx)(o.Z,{variant:"contained",sx:{mt:2},onClick:loginEmail,children:"Login"}),C&&(0,i.jsx)(r.Z,{color:"error",sx:{mt:2},children:C})]}),(0,i.jsxs)(r.Z,{className:h().register,children:["アカウントをお持ちでない場合は、",(0,i.jsx)("span",{className:h().registerLink,onClick:handleChange,children:"こちら"}),"から新規登録してください"]})]}),n]})}},6386:function(e,n,t){"use strict";let i;t.d(n,{l:function(){return createAuth}});var a=t(3977),l=t(1259),o=t(3454);let createAuth=()=>{if(void 0!==i)return i;if(void 0!==o.env.NEXT_PUBLIC_AUTH_EMULATOR_URL){console.log("ローカル環境");let e=(0,l.v0)((0,a.ZF)({apiKey:"fake-api-key",authDomain:location.hostname}));return(0,l.S$)(e,o.env.NEXT_PUBLIC_AUTH_EMULATOR_URL,{disableWarnings:!0}),i=e,e}{console.log("本番環境");let e=JSON.parse(""),n=(0,l.v0)((0,a.ZF)(e));return i=n,n}}},8046:function(e){e.exports={container:"Loading_container__wV1ri",loader:"Loading_loader__cpdbt",load:"Loading_load__8NQtO"}},8256:function(e){e.exports={container:"login_container__muLWd",main:"login_main__xBhVh",appname:"login_appname__66RPH",register:"login_register__YiSsn",registerLink:"login_registerLink__r6dSS",title:"login_title__RHJw5",btn:"login_btn__PrM31",logoImage:"login_logoImage___mUUI",appImage:"login_appImage__B73cE"}}},function(e){e.O(0,[661,583,941,794,774,888,179],function(){return e(e.s=4498)}),_N_E=e.O()}]);