(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[459],{4498:function(e,n,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/login",function(){return i(1819)}])},2176:function(e,n,i){"use strict";i.d(n,{r:function(){return useLoading}});var a=i(5893),l=i(5103),t=i(8583),s=i(7294),o=i(9854);let r=(0,l.cn)(0),g=(0,l.cn)(e=>e(r)>0),useLoading=()=>{let[e,n]=(0,t.KO)(r),[i]=(0,t.KO)(g),l=(0,s.useCallback)(()=>n(e+1),[e,n]),c=(0,s.useCallback)(()=>n(e-1),[e,n]);return{loadingElm:(0,a.jsx)(o.g,{visible:i}),addLoading:l,removeLoading:c}}},1819:function(e,n,i){"use strict";i.r(n);var a=i(5893),l=i(7357),t=i(4238),s=i(9417),o=i(5861),r=i(4857),g=i(8583),c=i(1163),u=i(7294),m=i(6221),d=i(2509),_=i(2176),p=i(8256),h=i.n(p),x=i(2961),v=i(2450),f=i(3946);n.default=()=>{let[,e]=(0,g.KO)(m.LF),{loadingElm:n,addLoading:i,removeLoading:p}=(0,_.r)(),[j,w]=(0,u.useState)(""),[N,k]=(0,u.useState)(""),[y,C]=(0,u.useState)(!1),E=(0,c.useRouter)(),[b,I]=(0,u.useState)(""),signInWithEmail1=async(n,i)=>{let a=(0,d.l)();try{let l=await (0,r.e5)(a,n,i),t=l.user.uid;e(e=>({...e,id:t,email:n,displayName:null==e?void 0:e.displayName,photoURL:null==e?void 0:e.photoURL})),console.log("ログイン成功")}catch(e){throw console.error("ログイン失敗",e),e}},loginEmail=async()=>{i();try{await signInWithEmail1(j,N),I("")}catch(e){I("ログインに失敗しました")}p()},handleChange=async()=>{await E.push("/register")};return(0,a.jsxs)("div",{className:h().container,children:[(0,a.jsxs)("div",{className:h().main,children:[(0,a.jsx)("img",{className:h().appImage,src:"/images/applogo1.png",alt:"APP logo",style:{position:"relative",right:"-5px",top:"-15px"}}),(0,a.jsx)("img",{className:h().logoImage,src:"/images/logo.png",alt:"ARMapConnect Logo"}),(0,a.jsxs)(l.Z,{sx:{display:"flex",flexDirection:"column",alignItems:"center",p:3,width:"100%",maxWidth:400},children:[(0,a.jsx)(t.Z,{label:"Email",type:"email",variant:"outlined",value:j,onChange:e=>w(e.target.value),fullWidth:!0,sx:{mt:2}}),(0,a.jsx)(t.Z,{label:"Password",type:y?"text":"password",variant:"outlined",value:N,onChange:e=>k(e.target.value),fullWidth:!0,sx:{mt:2},InputProps:{endAdornment:(0,a.jsx)(f.Z,{"aria-label":"toggle password visibility",onClick:()=>{C(!y)},children:y?(0,a.jsx)(v.Z,{}):(0,a.jsx)(x.Z,{})})}}),(0,a.jsx)(s.Z,{variant:"contained",sx:{mt:2},onClick:loginEmail,children:"Login"}),b&&(0,a.jsx)(o.Z,{color:"error",sx:{mt:2},children:b})]}),(0,a.jsxs)(o.Z,{className:h().register,children:["アカウントをお持ちでない場合は、",(0,a.jsx)("span",{className:h().registerLink,onClick:handleChange,children:"こちら"}),"から新規登録してください"]})]}),n]})}},8256:function(e){e.exports={container:"login_container__muLWd",main:"login_main__xBhVh",appname:"login_appname__66RPH",register:"login_register__YiSsn",registerLink:"login_registerLink__r6dSS",title:"login_title__RHJw5",btn:"login_btn__PrM31",logoImage:"login_logoImage___mUUI",appImage:"login_appImage__B73cE"}}},function(e){e.O(0,[117,794,774,888,179],function(){return e(e.s=4498)}),_N_E=e.O()}]);