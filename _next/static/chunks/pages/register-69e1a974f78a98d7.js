(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[495],{5861:function(t,r,e){"use strict";e.d(r,{Z:function(){return b}});var n=e(3366),a=e(7462),i=e(7294),o=e(512),s=e(9707),l=e(4780),u=e(1496),c=e(7623),p=e(8216),h=e(1588),g=e(4867);function getTypographyUtilityClass(t){return(0,g.Z)("MuiTypography",t)}(0,h.Z)("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);var d=e(5893);let y=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],useUtilityClasses=t=>{let{align:r,gutterBottom:e,noWrap:n,paragraph:a,variant:i,classes:o}=t,s={root:["root",i,"inherit"!==t.align&&`align${(0,p.Z)(r)}`,e&&"gutterBottom",n&&"noWrap",a&&"paragraph"]};return(0,l.Z)(s,getTypographyUtilityClass,o)},m=(0,u.ZP)("span",{name:"MuiTypography",slot:"Root",overridesResolver:(t,r)=>{let{ownerState:e}=t;return[r.root,e.variant&&r[e.variant],"inherit"!==e.align&&r[`align${(0,p.Z)(e.align)}`],e.noWrap&&r.noWrap,e.gutterBottom&&r.gutterBottom,e.paragraph&&r.paragraph]}})(({theme:t,ownerState:r})=>(0,a.Z)({margin:0},"inherit"===r.variant&&{font:"inherit"},"inherit"!==r.variant&&t.typography[r.variant],"inherit"!==r.align&&{textAlign:r.align},r.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},r.gutterBottom&&{marginBottom:"0.35em"},r.paragraph&&{marginBottom:16})),f={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},x={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},transformDeprecatedColors=t=>x[t]||t,v=i.forwardRef(function(t,r){let e=(0,c.Z)({props:t,name:"MuiTypography"}),i=transformDeprecatedColors(e.color),l=(0,s.Z)((0,a.Z)({},e,{color:i})),{align:u="inherit",className:p,component:h,gutterBottom:g=!1,noWrap:x=!1,paragraph:v=!1,variant:b="body1",variantMapping:w=f}=l,_=(0,n.Z)(l,y),Z=(0,a.Z)({},l,{align:u,color:i,className:p,component:h,gutterBottom:g,noWrap:x,paragraph:v,variant:b,variantMapping:w}),C=h||(v?"p":w[b]||f[b])||"span",N=useUtilityClasses(Z);return(0,d.jsx)(m,(0,a.Z)({as:C,ref:r,ownerState:Z,className:(0,o.Z)(N.root,p)},_))});var b=v},9707:function(t,r,e){"use strict";e.d(r,{Z:function(){return extendSxProp}});var n=e(7462),a=e(3366),i=e(9766),o=e(4920);let s=["sx"],splitProps=t=>{var r,e;let n={systemProps:{},otherProps:{}},a=null!=(r=null==t||null==(e=t.theme)?void 0:e.unstable_sxConfig)?r:o.Z;return Object.keys(t).forEach(r=>{a[r]?n.systemProps[r]=t[r]:n.otherProps[r]=t[r]}),n};function extendSxProp(t){let r;let{sx:e}=t,o=(0,a.Z)(t,s),{systemProps:l,otherProps:u}=splitProps(o);return r=Array.isArray(e)?[l,...e]:"function"==typeof e?(...t)=>{let r=e(...t);return(0,i.P)(r)?(0,n.Z)({},l,r):l}:(0,n.Z)({},l,e),(0,n.Z)({},u,{sx:r})}},9219:function(t,r,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/register",function(){return e(7601)}])},2176:function(t,r,e){"use strict";e.d(r,{r:function(){return useLoading}});var n=e(5893),a=e(5103),i=e(8583),o=e(7294),s=e(9854);let l=(0,a.cn)(0),u=(0,a.cn)(t=>t(l)>0),useLoading=()=>{let[t,r]=(0,i.KO)(l),[e]=(0,i.KO)(u),a=(0,o.useCallback)(()=>r(t+1),[t,r]),c=(0,o.useCallback)(()=>r(t-1),[t,r]);return{loadingElm:(0,n.jsx)(s.g,{visible:e}),addLoading:a,removeLoading:c}}},7601:function(t,r,e){"use strict";e.r(r);var n=e(5893),a=e(5861),i=e(5547),o=e(1163),s=e(7294),l=e(4076),u=e(2176),c=e(420),p=e.n(c);r.default=()=>{let{loadingElm:t,addLoading:r,removeLoading:e}=(0,u.r)(),[c,h]=(0,s.useState)(""),[g,d]=(0,s.useState)(""),y=(0,o.useRouter)(),[m,f]=(0,s.useState)(""),createAccount=async()=>{r();try{await (0,l.Yb)(c,g),f(""),await y.push("/")}catch(t){f("サインアップに失敗しました")}e()},handleChange=async()=>{await y.push("/login")};return(0,n.jsxs)("div",{className:p().container,children:[(0,n.jsxs)("div",{className:p().main,children:[(0,n.jsx)("div",{className:p().title,children:i.X}),(0,n.jsx)("input",{type:"email",value:c,onChange:t=>h(t.target.value),placeholder:"Email"}),(0,n.jsx)("input",{type:"password",value:g,onChange:t=>d(t.target.value),placeholder:"Password"}),(0,n.jsx)("div",{style:{marginTop:"16px"},onClick:createAccount,children:(0,n.jsx)("div",{className:p().btn,children:(0,n.jsx)("span",{children:"新規登録"})})}),m&&(0,n.jsx)(a.Z,{color:"error",sx:{mt:2},children:m}),(0,n.jsx)("button",{style:{marginTop:"16px"},onClick:handleChange,children:"戻る"})]}),t]})}},4076:function(t,r,e){"use strict";e.d(r,{Yb:function(){return signUpWithEmail},_u:function(){return loginWithGitHub},kS:function(){return logout}});var n=e(4857),a=e(2509),i=e(3483),o=e(6819);let loginWithGitHub=async()=>{let t=new n.GH;t.addScope("read:user"),await (0,n.rh)((0,a.l)(),t).catch(t=>(console.error("Error during sign-in:",t),null))},logout=async()=>{await (0,a.l)().signOut()},checkIfNewUser=async t=>{let r=await i.x.user.$get({query:{userID:t}});0===r.length&&await i.x.user.post({body:{userID:t}}).catch(o.F)},signUpWithEmail=async(t,r)=>{let e=(0,a.l)();try{let a=await (0,n.Xb)(e,t,r);console.log("aaa");let i=a.user.uid;await checkIfNewUser(i),console.log("新規登録成功")}catch(t){throw console.error("新規登録失敗",t),t}}},5547:function(t,r,e){"use strict";e.d(r,{X:function(){return n}});let n="ArMapSNS"},420:function(t){t.exports={container:"register_container__eyHGd",main:"register_main__McpOr",title:"register_title__SWO1g",btn:"register_btn__MZ6m2"}}},function(t){t.O(0,[82,774,888,179],function(){return t(t.s=9219)}),_N_E=t.O()}]);