(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[523],{3730:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/deploy",function(){return n(3176)}])},3176:function(t,e,n){"use strict";n.r(e);var o=n(5893),s=n(7294),a=n(5066);e.default=()=>{let[t,e]=(0,s.useState)(""),[n,c]=(0,s.useState)(""),[d,h]=(0,s.useState)(null),handleSubmit=async e=>{if(e.preventDefault(),!d){alert("写真を選択してください。");return}let o=new FormData;o.append("title",t),o.append("description",n),o.append("file",d);try{let e=await a.x.minio.$post({body:{title:t,description:n,file:d}});alert("アップロード成功 ".concat(e.url))}catch(t){console.error(t),alert("アップロードに失敗しました。")}};return(0,o.jsx)("div",{children:(0,o.jsxs)("form",{onSubmit:handleSubmit,children:[(0,o.jsxs)("label",{children:["タイトル:",(0,o.jsx)("input",{type:"text",value:t,onChange:t=>e(t.target.value)})]}),(0,o.jsx)("br",{}),(0,o.jsxs)("label",{children:["説明:",(0,o.jsx)("textarea",{value:n,onChange:t=>c(t.target.value)})]}),(0,o.jsx)("br",{}),(0,o.jsxs)("label",{children:["写真:",(0,o.jsx)("input",{type:"file",accept:"image/*",onChange:t=>h(t.target.files?t.target.files[0]:null)})]}),(0,o.jsx)("br",{}),(0,o.jsx)("button",{type:"submit",children:"アップロード"})]})})}},5066:function(t,e,n){"use strict";n.d(e,{x:function(){return c}});var o=n(9239),s=n(7080),a=n(6154);let c=(t=>{let{baseURL:e,fetch:n}=t,o=(void 0===e?"":e).replace(/\/$/,""),a="/health",c="/likes",d="/minio",h="/myPost",r="/posts",l="/session",p="/tasks",u="/tasks/di",i="/test",j="/user",y="POST",$="DELETE",b="PATCH";return{health:{get:t=>n(o,a,"GET",t).json(),$get:t=>n(o,a,"GET",t).json().then(t=>t.body),$path:()=>"".concat(o).concat(a)},likes:{get:t=>n(o,c,"GET",t).json(),$get:t=>n(o,c,"GET",t).json().then(t=>t.body),post:t=>n(o,c,y,t).json(),$post:t=>n(o,c,y,t).json().then(t=>t.body),patch:t=>n(o,c,b,t).json(),$patch:t=>n(o,c,b,t).json().then(t=>t.body),delete:t=>n(o,c,$,t).text(),$delete:t=>n(o,c,$,t).text().then(t=>t.body),$path:t=>"".concat(o).concat(c).concat(t&&t.query?"?".concat((0,s._K)(t.query)):"")},me:{get:t=>n(o,"/me","GET",t).json(),$get:t=>n(o,"/me","GET",t).json().then(t=>t.body),$path:()=>"".concat(o).concat("/me")},minio:{post:t=>n(o,d,y,t,"FormData").json(),$post:t=>n(o,d,y,t,"FormData").json().then(t=>t.body),$path:()=>"".concat(o).concat(d)},myPost:{get:t=>n(o,h,"GET",t).json(),$get:t=>n(o,h,"GET",t).json().then(t=>t.body),post:t=>n(o,h,y,t).send(),$post:t=>n(o,h,y,t).send().then(t=>t.body),delete:t=>n(o,h,$,t).send(),$delete:t=>n(o,h,$,t).send().then(t=>t.body),$path:t=>"".concat(o).concat(h).concat(t&&t.query?"?".concat((0,s._K)(t.query)):"")},posts:{get:t=>n(o,r,"GET",t).json(),$get:t=>n(o,r,"GET",t).json().then(t=>t.body),post:t=>n(o,r,y,t).send(),$post:t=>n(o,r,y,t).send().then(t=>t.body),$path:t=>"".concat(o).concat(r).concat(t&&t.query?"?".concat((0,s._K)(t.query)):"")},session:{post:t=>n(o,l,y,t).json(),$post:t=>n(o,l,y,t).json().then(t=>t.body),delete:t=>n(o,l,$,t).json(),$delete:t=>n(o,l,$,t).json().then(t=>t.body),$path:()=>"".concat(o).concat(l)},tasks:{_taskId:t=>{let e="".concat(p,"/").concat(t);return{patch:t=>n(o,e,b,t).json(),$patch:t=>n(o,e,b,t).json().then(t=>t.body),delete:t=>n(o,e,$,t).json(),$delete:t=>n(o,e,$,t).json().then(t=>t.body),$path:()=>"".concat(o).concat(e)}},di:{get:t=>n(o,u,"GET",t).json(),$get:t=>n(o,u,"GET",t).json().then(t=>t.body),$path:()=>"".concat(o).concat(u)},get:t=>n(o,p,"GET",t).json(),$get:t=>n(o,p,"GET",t).json().then(t=>t.body),post:t=>n(o,p,y,t).json(),$post:t=>n(o,p,y,t).json().then(t=>t.body),patch:t=>n(o,p,b,t).json(),$patch:t=>n(o,p,b,t).json().then(t=>t.body),delete:t=>n(o,p,$,t).json(),$delete:t=>n(o,p,$,t).json().then(t=>t.body),$path:t=>"".concat(o).concat(p).concat(t&&t.query?"?".concat((0,s._K)(t.query)):"")},test:{get:t=>n(o,i,"GET",t).text(),$get:t=>n(o,i,"GET",t).text().then(t=>t.body),$path:()=>"".concat(o).concat(i)},user:{get:t=>n(o,j,"GET",t).json(),$get:t=>n(o,j,"GET",t).json().then(t=>t.body),post:t=>n(o,j,y,t).send(),$post:t=>n(o,j,y,t).send().then(t=>t.body),$path:t=>"".concat(o).concat(j).concat(t&&t.query?"?".concat((0,s._K)(t.query)):"")},get:t=>n(o,"","GET",t).text(),$get:t=>n(o,"","GET",t).text().then(t=>t.body),$path:()=>"".concat(o)}})((0,o.Z)(a.Z.create({withCredentials:!0})))}},function(t){t.O(0,[911,774,888,179],function(){return t(t.s=3730)}),_N_E=t.O()}]);