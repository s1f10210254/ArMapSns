(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[679],{9584:function(e,t,n){"use strict";var o=n(4836);t.Z=void 0;var a=o(n(4938)),r=n(5893),i=(0,a.default)((0,r.jsx)("path",{d:"M18 11v2h4v-2h-4zm-2 6.61c.96.71 2.21 1.65 3.2 2.39.4-.53.8-1.07 1.2-1.6-.99-.74-2.24-1.68-3.2-2.4-.4.54-.8 1.08-1.2 1.61zM20.4 5.6c-.4-.53-.8-1.07-1.2-1.6-.99.74-2.24 1.68-3.2 2.4.4.53.8 1.07 1.2 1.6.96-.72 2.21-1.65 3.2-2.4zM4 9c-1.1 0-2 .9-2 2v2c0 1.1.9 2 2 2h1v4h2v-4h1l5 3V6L8 9H4zm11.5 3c0-1.33-.58-2.53-1.5-3.35v6.69c.92-.81 1.5-2.01 1.5-3.34z"}),"Campaign");t.Z=i},1733:function(e,t,n){"use strict";var o=n(4836);t.Z=void 0;var a=o(n(4938)),r=n(5893),i=(0,a.default)((0,r.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete");t.Z=i},6111:function(e,t,n){"use strict";var o=n(4836);t.Z=void 0;var a=o(n(4938)),r=n(5893),i=(0,a.default)((0,r.jsx)("path",{d:"m12 21.35-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"}),"Favorite");t.Z=i},5734:function(e,t,n){"use strict";var o=n(4836);t.Z=void 0;var a=o(n(4938)),r=n(5893),i=(0,a.default)((0,r.jsx)("path",{d:"M19 7v4H5.83l3.58-3.59L8 6l-6 6 6 6 1.41-1.41L5.83 13H21V7z"}),"KeyboardReturn");t.Z=i},6307:function(e,t,n){"use strict";var o=n(4836);t.Z=void 0;var a=o(n(4938)),r=n(5893),i=(0,a.default)((0,r.jsx)("path",{d:"M2.01 21 23 12 2.01 3 2 10l15 2-15 2z"}),"Send");t.Z=i},7878:function(e,t,n){"use strict";var o=n(4836);t.Z=void 0;var a=o(n(4938)),r=n(5893),i=(0,a.default)((0,r.jsx)("path",{d:"M7.53 21.48C4.26 19.94 1.92 16.76 1.56 13H.06c.51 6.16 5.66 11 11.95 11l.66-.03-3.81-3.81-1.33 1.32zm.89-6.52c-.19 0-.37-.03-.52-.08-.16-.06-.29-.13-.4-.24-.11-.1-.2-.22-.26-.37-.06-.14-.09-.3-.09-.47h-1.3c0 .36.07.68.21.95.14.27.33.5.56.69.24.18.51.32.82.41.3.1.62.15.96.15.37 0 .72-.05 1.03-.15.32-.1.6-.25.83-.44s.42-.43.55-.72.2-.61.2-.97c0-.19-.02-.38-.07-.56-.05-.18-.12-.35-.23-.51-.1-.16-.24-.3-.4-.43-.17-.13-.37-.23-.61-.31.2-.09.37-.2.52-.33.15-.13.27-.27.37-.42.1-.15.17-.3.22-.46s.07-.32.07-.48c0-.36-.06-.68-.18-.96s-.29-.51-.51-.69c-.2-.19-.47-.33-.77-.43C9.11 8.05 8.77 8 8.4 8c-.36 0-.69.05-1 .16-.3.11-.57.26-.79.45-.21.19-.38.41-.51.67-.12.26-.18.54-.18.85h1.3c0-.17.03-.32.09-.45s.14-.25.25-.34.23-.17.38-.22.3-.08.48-.08c.4 0 .7.1.89.31.19.2.29.49.29.86 0 .18-.03.34-.08.49s-.14.27-.25.37c-.11.1-.25.18-.41.24-.16.06-.36.09-.58.09h-.77v1.03h.77c.22 0 .42.02.6.07s.33.13.45.23c.12.11.22.24.29.4s.1.35.1.57c0 .41-.12.72-.35.93-.23.23-.55.33-.95.33zm8.55-5.92c-.32-.33-.7-.59-1.14-.77-.44-.18-.93-.27-1.47-.27H12v8h2.3c.55 0 1.06-.09 1.51-.27s.84-.43 1.16-.76c.32-.33.57-.73.74-1.19.17-.47.26-.99.26-1.57v-.4c0-.58-.09-1.1-.26-1.57s-.42-.87-.74-1.2zm-.39 3.16c0 .42-.05.79-.14 1.13-.1.33-.24.62-.43.85-.19.23-.43.41-.71.53-.29.12-.62.18-.99.18h-.91V9.12h.97c.72 0 1.27.23 1.64.69.38.46.57 1.12.57 1.99v.4zM12.01 0l-.66.03 3.81 3.81 1.33-1.33c3.27 1.55 5.61 4.72 5.96 8.48h1.5C23.45 4.84 18.3 0 12.01 0z"}),"ThreeDRotationTwoTone");t.Z=i},6221:function(e,t,n){"use strict";n.d(t,{LF:function(){return a},ge:function(){return r}});var o=n(5103);let a=(0,o.cn)(null),r=(0,o.cn)({latitude:null,longitude:null});(0,o.cn)(!0)},9854:function(e,t,n){"use strict";n.d(t,{g:function(){return Loading}});var o=n(5893),a=n(7294),r=n(3935);let Portal=e=>{let{children:t}=e,[n,o]=(0,a.useState)();return(0,a.useEffect)(()=>{let e=document.createElement("div");return document.body.appendChild(e),o(e),()=>{document.body.removeChild(e)}},[]),n?r.createPortal(t,n):null};var i=n(8046),l=n.n(i);let Loading=e=>e.visible?(0,o.jsx)(Portal,{children:(0,o.jsx)("div",{className:l().container,children:(0,o.jsx)("div",{className:l().loader})})}):null},9596:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return map_page}});var o=n(5893),a=n(6111),r=n(5734),i=n(9584),l=n(1733),s=n(6307),c=n(9417),u=n(4238),d=n(3366),p=n(7462),h=n(7294),f=n(512),m=n(4780),g=n(7739),v=n(8216),x=n(7623),b=n(1588),y=n(4867);function getFabUtilityClass(e){return(0,y.Z)("MuiFab",e)}let j=(0,b.Z)("MuiFab",["root","primary","secondary","extended","circular","focusVisible","disabled","colorInherit","sizeSmall","sizeMedium","sizeLarge","info","error","warning","success"]);var _=n(1496);let C=["children","className","color","component","disabled","disableFocusRipple","focusVisibleClassName","size","variant"],useUtilityClasses=e=>{let{color:t,variant:n,classes:o,size:a}=e,r={root:["root",n,`size${(0,v.Z)(a)}`,"inherit"===t?"colorInherit":t]},i=(0,m.Z)(r,getFabUtilityClass,o);return(0,p.Z)({},o,i)},w=(0,_.ZP)(g.Z,{name:"MuiFab",slot:"Root",shouldForwardProp:e=>(0,_.FO)(e)||"classes"===e,overridesResolver:(e,t)=>{let{ownerState:n}=e;return[t.root,t[n.variant],t[`size${(0,v.Z)(n.size)}`],"inherit"===n.color&&t.colorInherit,t[(0,v.Z)(n.size)],t[n.color]]}})(({theme:e,ownerState:t})=>{var n,o;return(0,p.Z)({},e.typography.button,{minHeight:36,transition:e.transitions.create(["background-color","box-shadow","border-color"],{duration:e.transitions.duration.short}),borderRadius:"50%",padding:0,minWidth:0,width:56,height:56,zIndex:(e.vars||e).zIndex.fab,boxShadow:(e.vars||e).shadows[6],"&:active":{boxShadow:(e.vars||e).shadows[12]},color:e.vars?e.vars.palette.text.primary:null==(n=(o=e.palette).getContrastText)?void 0:n.call(o,e.palette.grey[300]),backgroundColor:(e.vars||e).palette.grey[300],"&:hover":{backgroundColor:(e.vars||e).palette.grey.A100,"@media (hover: none)":{backgroundColor:(e.vars||e).palette.grey[300]},textDecoration:"none"},[`&.${j.focusVisible}`]:{boxShadow:(e.vars||e).shadows[6]}},"small"===t.size&&{width:40,height:40},"medium"===t.size&&{width:48,height:48},"extended"===t.variant&&{borderRadius:24,padding:"0 16px",width:"auto",minHeight:"auto",minWidth:48,height:48},"extended"===t.variant&&"small"===t.size&&{width:"auto",padding:"0 8px",borderRadius:17,minWidth:34,height:34},"extended"===t.variant&&"medium"===t.size&&{width:"auto",padding:"0 16px",borderRadius:20,minWidth:40,height:40},"inherit"===t.color&&{color:"inherit"})},({theme:e,ownerState:t})=>(0,p.Z)({},"inherit"!==t.color&&"default"!==t.color&&null!=(e.vars||e).palette[t.color]&&{color:(e.vars||e).palette[t.color].contrastText,backgroundColor:(e.vars||e).palette[t.color].main,"&:hover":{backgroundColor:(e.vars||e).palette[t.color].dark,"@media (hover: none)":{backgroundColor:(e.vars||e).palette[t.color].main}}}),({theme:e})=>({[`&.${j.disabled}`]:{color:(e.vars||e).palette.action.disabled,boxShadow:(e.vars||e).shadows[0],backgroundColor:(e.vars||e).palette.action.disabledBackground}})),E=h.forwardRef(function(e,t){let n=(0,x.Z)({props:e,name:"MuiFab"}),{children:a,className:r,color:i="default",component:l="button",disabled:s=!1,disableFocusRipple:c=!1,focusVisibleClassName:u,size:h="large",variant:m="circular"}=n,g=(0,d.Z)(n,C),v=(0,p.Z)({},n,{color:i,component:l,disabled:s,disableFocusRipple:c,size:h,variant:m}),b=useUtilityClasses(v);return(0,o.jsx)(w,(0,p.Z)({className:(0,f.Z)(b.root,r),component:l,disabled:s,focusRipple:!c,focusVisibleClassName:(0,f.Z)(b.focusVisible,u),ownerState:v,ref:t},g,{classes:b,children:a}))});var z=n(5243),k=n.n(z);n(6904);var Z={src:"/ArMapSns/_next/static/media/me.511b6f49.png"};let $=(0,h.createContext)(null),I=$.Provider;function useLeafletContext(){let e=(0,h.useContext)($);if(null==e)throw Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}function _extends(){return(_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}let L=(0,h.forwardRef)(function({bounds:e,boundsOptions:t,center:n,children:o,className:a,id:r,placeholder:i,style:l,whenReady:s,zoom:c,...u},d){let[p]=(0,h.useState)({className:a,id:r,style:l}),[f,m]=(0,h.useState)(null);(0,h.useImperativeHandle)(d,()=>f?.map??null,[f]);let g=(0,h.useCallback)(o=>{if(null!==o&&null===f){let a=new z.Map(o,u);null!=n&&null!=c?a.setView(n,c):null!=e&&a.fitBounds(e,t),null!=s&&a.whenReady(s),m(Object.freeze({__version:1,map:a}))}},[]);(0,h.useEffect)(()=>()=>{f?.map.remove()},[f]);let v=f?h.createElement(I,{value:f},o):i??null;return h.createElement("div",_extends({},p,{ref:g}),v)});var P=n(3935);function element_createElementObject(e,t,n){return Object.freeze({instance:e,context:t,container:n})}function element_createElementHook(e,t){return null==t?function(t,n){let o=(0,h.useRef)();return o.current||(o.current=e(t,n)),o}:function(n,o){let a=(0,h.useRef)();a.current||(a.current=e(n,o));let r=(0,h.useRef)(n),{instance:i}=a.current;return(0,h.useEffect)(function(){r.current!==n&&(t(i,n,r.current),r.current=n)},[i,n,o]),a}}function useAttribution(e,t){let n=(0,h.useRef)(t);(0,h.useEffect)(function(){t!==n.current&&null!=e.attributionControl&&(null!=n.current&&e.attributionControl.removeAttribution(n.current),null!=t&&e.attributionControl.addAttribution(t)),n.current=t},[e,t])}function useEventHandlers(e,t){let n=(0,h.useRef)();(0,h.useEffect)(function(){return null!=t&&e.instance.on(t),n.current=t,function(){null!=n.current&&e.instance.off(n.current),n.current=null}},[e,t])}function withPane(e,t){let n=e.pane??t.pane;return n?{...e,pane:n}:e}function createLayerHook(e){return function(t){var n;let o=useLeafletContext(),a=e(withPane(t,o),o);return useAttribution(o.map,t.attribution),useEventHandlers(a.current,t.eventHandlers),n=a.current,(0,h.useEffect)(function(){let e=o.layerContainer??o.map;return e.addLayer(n.instance),function(){o.layerContainer?.removeLayer(n.instance),o.map.removeLayer(n.instance)}},[o,n]),a}}let T=function(e,t){let n=element_createElementHook(e,t),o=createLayerHook(n);return(0,h.forwardRef)(function(e,t){let{instance:n}=o(e).current;return(0,h.useImperativeHandle)(t,()=>n),null})}(function({url:e,...t},n){let o=new z.TileLayer(e,withPane(t,n));return element_createElementObject(o,n)},function(e,t,n){!function(e,t,n){let{opacity:o,zIndex:a}=t;null!=o&&o!==n.opacity&&e.setOpacity(o),null!=a&&a!==n.zIndex&&e.setZIndex(a)}(e,t,n);let{url:o}=t;null!=o&&o!==n.url&&e.setUrl(o)}),H=function(e,t){let n=element_createElementHook(e,t),o=createLayerHook(n);return(0,h.forwardRef)(function(e,t){let{instance:n,context:a}=o(e).current;return(0,h.useImperativeHandle)(t,()=>n),null==e.children?null:h.createElement(I,{value:a},e.children)})}(function({position:e,...t},n){let o=new z.Marker(e,t);return element_createElementObject(o,Object.freeze({...n,overlayContainer:o}))},function(e,t,n){t.position!==n.position&&e.setLatLng(t.position),null!=t.icon&&t.icon!==n.icon&&e.setIcon(t.icon),null!=t.zIndexOffset&&t.zIndexOffset!==n.zIndexOffset&&e.setZIndexOffset(t.zIndexOffset),null!=t.opacity&&t.opacity!==n.opacity&&e.setOpacity(t.opacity),null!=e.dragging&&t.draggable!==n.draggable&&(!0===t.draggable?e.dragging.enable():e.dragging.disable())}),S=function(e,t){var n;let o=element_createElementHook(e);return n=function(e,n){let a=useLeafletContext(),r=o(withPane(e,a),a);return useAttribution(a.map,e.attribution),useEventHandlers(r.current,e.eventHandlers),t(r.current,a,e,n),r},(0,h.forwardRef)(function(e,t){let[o,a]=(0,h.useState)(!1),{instance:r}=n(e,a).current;(0,h.useImperativeHandle)(t,()=>r),(0,h.useEffect)(function(){o&&r.update()},[r,o,e.children]);let i=r._contentNode;return i?(0,P.createPortal)(e.children,i):null})}(function(e,t){let n=new z.Popup(e,t.overlayContainer);return element_createElementObject(n,t)},function(e,t,{position:n},o){(0,h.useEffect)(function(){let{instance:a}=e;function onPopupOpen(e){e.popup===a&&(a.update(),o(!0))}function onPopupClose(e){e.popup===a&&o(!1)}return t.map.on({popupopen:onPopupOpen,popupclose:onPopupClose}),null==t.overlayContainer?(null!=n&&a.setLatLng(n),a.openOn(t.map)):t.overlayContainer.bindPopup(a),function(){t.map.off({popupopen:onPopupOpen,popupclose:onPopupClose}),t.overlayContainer?.unbindPopup(),t.map.removeLayer(a)}},[e,t,o,n])});var O=n(9854),N=n(9579),R=n(9588),M=n(4736),F=n(5066),G=n(2745),B=n(6819),U=n(8041),A=n.n(U);k().Icon.Default.mergeOptions({iconRetinaUrl:Z.src,iconSize:[48,48]});let V=k().icon({iconUrl:Z.src,iconSize:[48,48]}),q=k().icon({iconUrl:"/ArMapSns/_next/static/media/other.f227c412.png",iconSize:[48,48]}),D=k().icon({iconUrl:"/ArMapSns/_next/static/media/pinn.7a664910.png",iconSize:[48,48]}),LocationMarker=e=>{let{coordinates:t}=e,n=useLeafletContext().map;return(0,h.useEffect)(()=>{null!==t.latitude&&null!==t.longitude&&n.setView([t.latitude,t.longitude],n.getZoom())},[t,n]),null};var map_page=()=>{let[e,t]=(0,h.useState)(null),[n,d]=(0,h.useState)(""),[p,f]=(0,h.useState)(!1),[m,g]=(0,h.useState)(!0),v=(0,N.Z)(),x=(0,R.Z)(),handleClosePopup=()=>{f(!1)},b=(0,h.useCallback)(async()=>{if(null===x.latitude||null===x.longitude)return;let e=await F.x.posts.$get({query:{latitude:x.latitude,longitude:x.longitude}}).catch(B.F);t(e)},[x.latitude,x.longitude]),postPostContent=async()=>{if((null==v?void 0:v.id)===void 0||""===n||null===x.latitude||null===x.longitude)return;let e=x.latitude,t=x.longitude;await F.x.myPost.$post({body:{username:"aaa",content:n,latitude:e,longitude:t,userID:v.id}}),d(""),handleClosePopup(),b()},deletePostContent=async e=>{await F.x.likes.$delete({body:{postId:e}}).catch(B.F),await F.x.myPost.$delete({query:{postID:e}}).catch(B.F),await b()},handleLike=async e=>{if((null==v?void 0:v.id)===void 0||void 0===e)return;let n=await F.x.likes.$patch({body:{postId:e,userId:v.id}});await b(),t(t=>t?t.map(t=>t.id===e?{...t,likeCount:n}:t):t)};return((0,h.useEffect)(()=>{if(m&&null!==x.latitude&&null!==x.longitude){let oneRendaringGetPosts=async()=>{let e=x.latitude,n=x.longitude,o=await F.x.posts.$get({query:{latitude:e,longitude:n}}).catch(B.F);t(o)};oneRendaringGetPosts(),g(!1)}},[x.latitude,x.longitude,m]),v)?(0,o.jsxs)("div",{children:[(0,o.jsxs)("div",{className:A().container,children:[(0,o.jsx)(M.v,{user:v}),null!==x.latitude&&null!==x.longitude&&(0,o.jsx)("div",{className:"".concat(A().mapWrapper," ").concat(p?A().blurred:""),children:(0,o.jsxs)(L,{center:[x.latitude,x.longitude],zoom:17,scrollWheelZoom:!1,style:{height:"93vh",width:"100%"},children:[(0,o.jsx)(T,{attribution:'\xa9 <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),(0,o.jsx)(LocationMarker,{coordinates:x}),(0,o.jsx)(H,{position:[x.latitude,x.longitude],icon:D}),null==e?void 0:e.map(e=>(0,o.jsx)(H,{icon:v.id===e.userID?V:q,position:[e.latitude,e.longitude],children:(0,o.jsx)(S,{children:(0,o.jsxs)("div",{style:{display:"flex",flexDirection:"column",height:"200px",width:"300px"},children:[(0,o.jsx)("div",{style:{fontSize:"18px",overflow:"auto",paddingTop:"50px",textAlign:"center"},children:e.content}),(0,o.jsx)("div",{style:{position:"absolute",bottom:"30px",left:"20px"},children:(0,o.jsx)(c.Z,{variant:"outlined",startIcon:(0,o.jsx)(a.Z,{style:{color:"#FF6961"}}),onClick:()=>handleLike(e.id),sx:{border:"1px solid #FF6961"},children:(0,o.jsx)("span",{className:"likeCount",children:e.likeCount})})}),(0,o.jsx)("div",{style:{position:"absolute",bottom:"10px",width:"100%",display:"flex",justifyContent:"space-between",paddingRight:"10px"},children:(0,o.jsxs)("div",{style:{fontSize:"10px"},children:[(0,G.m)(e.postTime),v.id===e.userID?(0,o.jsx)(l.Z,{onClick:()=>{confirm("削除しますか？")&&deletePostContent(e.id)},sx:{alignSelf:"flex-end",marginLeft:"130px"}}):(0,o.jsx)("div",{})]})})]})})},e.id))]})})]}),!p&&(0,o.jsx)(E,{className:A().postButton,onClick:()=>{f(!0)},style:{backgroundColor:"#90caf9",width:"80px",height:"80px",position:"absolute",top:"80vh",left:"50vw",transform:"translate(-50%, -50%)"},children:(0,o.jsx)(i.Z,{sx:{fontSize:50,color:"black"}})}),p&&(0,o.jsx)("div",{className:A().popup,children:(0,o.jsxs)("div",{className:A().popupContent,children:[(0,o.jsx)("div",{style:{padding:"10px 0",textAlign:"left",marginBottom:"30px",fontSize:"14px",color:"black"},children:"今、あなたの周りで何が起こってる？"}),(0,o.jsx)(u.Z,{label:"なにがおきてる？",value:n,onChange:e=>d(e.target.value),multiline:!0,rows:5,variant:"outlined",style:{marginBottom:"auto"},InputProps:{sx:{"&.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:"#90caf9"}}}}),(0,o.jsxs)("div",{style:{alignSelf:"flex-end",display:"flex",justifyContent:"space-between",width:"100%"},children:[(0,o.jsx)(c.Z,{variant:"contained",startIcon:(0,o.jsx)(r.Z,{}),onClick:handleClosePopup,sx:{backgroundColor:"#FFCC80"},children:"戻る"}),(0,o.jsx)(c.Z,{variant:"contained",onClick:postPostContent,disabled:!n.trim(),sx:{backgroundColor:"#90caf9"},endIcon:(0,o.jsx)(s.Z,{}),children:"POST"})]})]})})]}):(0,o.jsx)("div",{children:(0,o.jsx)(O.g,{visible:!0})})}},9579:function(e,t,n){"use strict";var o=n(8583),a=n(1163),r=n(7294),i=n(6221);t.Z=()=>{let[e,t]=(0,o.KO)(i.LF),n=(0,a.useRouter)();return(0,r.useEffect)(()=>{let e=localStorage.getItem("user");if(null!==e){let n=JSON.parse(e);t(n)}else n.push("/login")},[t,n]),e}},9588:function(e,t,n){"use strict";var o=n(8583),a=n(7294),r=n(6221);t.Z=()=>{let[e,t]=(0,o.KO)(r.ge);return(0,a.useEffect)(()=>{"undefined"!=typeof navigator&&null!==navigator.geolocation&&navigator.geolocation.watchPosition(e=>{t({latitude:e.coords.latitude,longitude:e.coords.longitude})})}),e}},4736:function(e,t,n){"use strict";n.d(t,{v:function(){return BasicHeader}});var o=n(5893),a=n(7878),r=n(1664),i=n.n(r),l=n(1163);let HumanIcon=e=>(0,o.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:e.size,height:e.size,children:(0,o.jsx)("path",{d:"M12 0c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm7.753 18.305c-.261-.586-.789-.991-1.871-1.241-2.293-.529-4.428-.993-3.393-2.945 3.145-5.942.833-9.119-2.489-9.119-3.388 0-5.644 3.299-2.489 9.119 1.066 1.964-1.148 2.427-3.393 2.945-1.084.25-1.608.658-1.867 1.246-1.405-1.723-2.251-3.919-2.251-6.31 0-5.514 4.486-10 10-10s10 4.486 10 10c0 2.389-.845 4.583-2.247 6.305z"})});n(1259);var s=n(6386);n(5066);let logout=async()=>{await (0,s.l)().signOut(),localStorage.removeItem("user")};var c=n(5293),u=n.n(c);let BasicHeader=e=>{let{user:t}=e,n=(0,l.useRouter)(),onLogout=async()=>{confirm("ログアウトしますか？")&&(await logout(),await n.push("/login"))};return(0,o.jsx)("div",{className:u().container,children:(0,o.jsxs)("div",{className:u().main,children:[(0,o.jsxs)("div",{className:u().userBtn,onClick:onLogout,children:[(0,o.jsx)(HumanIcon,{size:30}),(0,o.jsx)("span",{className:u().userName,children:t.displayName})]}),(0,o.jsx)("img",{className:u().logoImage,src:"/images/logo.png",alt:"ARMapConnect Logo"}),(0,o.jsx)(i(),{href:"/AR",children:(0,o.jsx)(a.Z,{fontSize:"large"})})]})})}},5066:function(e,t,n){"use strict";n.d(t,{x:function(){return i}});var o=n(9239),a=n(7080),r=n(6154);let i=(e=>{let{baseURL:t,fetch:n}=e,o=(void 0===t?"":t).replace(/\/$/,""),r="/health",i="/likes",l="/minio",s="/myPost",c="/posts",u="/session",d="/tasks",p="/tasks/di",h="/test",f="/user",m="POST",g="DELETE",v="PATCH";return{health:{get:e=>n(o,r,"GET",e).json(),$get:e=>n(o,r,"GET",e).json().then(e=>e.body),$path:()=>"".concat(o).concat(r)},likes:{get:e=>n(o,i,"GET",e).json(),$get:e=>n(o,i,"GET",e).json().then(e=>e.body),post:e=>n(o,i,m,e).json(),$post:e=>n(o,i,m,e).json().then(e=>e.body),patch:e=>n(o,i,v,e).json(),$patch:e=>n(o,i,v,e).json().then(e=>e.body),delete:e=>n(o,i,g,e).text(),$delete:e=>n(o,i,g,e).text().then(e=>e.body),$path:e=>"".concat(o).concat(i).concat(e&&e.query?"?".concat((0,a._K)(e.query)):"")},me:{get:e=>n(o,"/me","GET",e).json(),$get:e=>n(o,"/me","GET",e).json().then(e=>e.body),$path:()=>"".concat(o).concat("/me")},minio:{post:e=>n(o,l,m,e,"FormData").json(),$post:e=>n(o,l,m,e,"FormData").json().then(e=>e.body),$path:()=>"".concat(o).concat(l)},myPost:{get:e=>n(o,s,"GET",e).json(),$get:e=>n(o,s,"GET",e).json().then(e=>e.body),post:e=>n(o,s,m,e).send(),$post:e=>n(o,s,m,e).send().then(e=>e.body),delete:e=>n(o,s,g,e).send(),$delete:e=>n(o,s,g,e).send().then(e=>e.body),$path:e=>"".concat(o).concat(s).concat(e&&e.query?"?".concat((0,a._K)(e.query)):"")},posts:{get:e=>n(o,c,"GET",e).json(),$get:e=>n(o,c,"GET",e).json().then(e=>e.body),post:e=>n(o,c,m,e).send(),$post:e=>n(o,c,m,e).send().then(e=>e.body),$path:e=>"".concat(o).concat(c).concat(e&&e.query?"?".concat((0,a._K)(e.query)):"")},session:{post:e=>n(o,u,m,e).json(),$post:e=>n(o,u,m,e).json().then(e=>e.body),delete:e=>n(o,u,g,e).json(),$delete:e=>n(o,u,g,e).json().then(e=>e.body),$path:()=>"".concat(o).concat(u)},tasks:{_taskId:e=>{let t="".concat(d,"/").concat(e);return{patch:e=>n(o,t,v,e).json(),$patch:e=>n(o,t,v,e).json().then(e=>e.body),delete:e=>n(o,t,g,e).json(),$delete:e=>n(o,t,g,e).json().then(e=>e.body),$path:()=>"".concat(o).concat(t)}},di:{get:e=>n(o,p,"GET",e).json(),$get:e=>n(o,p,"GET",e).json().then(e=>e.body),$path:()=>"".concat(o).concat(p)},get:e=>n(o,d,"GET",e).json(),$get:e=>n(o,d,"GET",e).json().then(e=>e.body),post:e=>n(o,d,m,e).json(),$post:e=>n(o,d,m,e).json().then(e=>e.body),patch:e=>n(o,d,v,e).json(),$patch:e=>n(o,d,v,e).json().then(e=>e.body),delete:e=>n(o,d,g,e).json(),$delete:e=>n(o,d,g,e).json().then(e=>e.body),$path:e=>"".concat(o).concat(d).concat(e&&e.query?"?".concat((0,a._K)(e.query)):"")},test:{get:e=>n(o,h,"GET",e).text(),$get:e=>n(o,h,"GET",e).text().then(e=>e.body),$path:()=>"".concat(o).concat(h)},user:{get:e=>n(o,f,"GET",e).json(),$get:e=>n(o,f,"GET",e).json().then(e=>e.body),post:e=>n(o,f,m,e).send(),$post:e=>n(o,f,m,e).send().then(e=>e.body),$path:e=>"".concat(o).concat(f).concat(e&&e.query?"?".concat((0,a._K)(e.query)):"")},get:e=>n(o,"","GET",e).text(),$get:e=>n(o,"","GET",e).text().then(e=>e.body),$path:()=>"".concat(o)}})((0,o.Z)(r.Z.create({withCredentials:!0})))},6386:function(e,t,n){"use strict";let o;n.d(t,{l:function(){return createAuth}});var a=n(3977),r=n(1259),i=n(3454);let createAuth=()=>{if(void 0!==o)return o;if(void 0!==i.env.NEXT_PUBLIC_AUTH_EMULATOR_URL){console.log("ローカル環境");let e=(0,r.v0)((0,a.ZF)({apiKey:"fake-api-key",authDomain:location.hostname}));return(0,r.S$)(e,i.env.NEXT_PUBLIC_AUTH_EMULATOR_URL,{disableWarnings:!0}),o=e,e}{console.log("本番環境");let e=JSON.parse(""),t=(0,r.v0)((0,a.ZF)(e));return o=t,t}}},2745:function(e,t,n){"use strict";n.d(t,{N:function(){return formatContent},m:function(){return formatTime}});let formatTime=e=>{let t=new Date(e);return new Intl.DateTimeFormat("ja-JP",{year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",hour12:!0}).format(t)},formatContent=e=>{let t="";for(let n=0;n<e.length;n+=17){let o=e.substring(n,n+17);t+=o+(n+17<e.length?"\n":"")}return t}},6819:function(e,t,n){"use strict";n.d(t,{F:function(){return returnNull}});let returnNull=()=>null},6904:function(){},8046:function(e){e.exports={container:"Loading_container__wV1ri",loader:"Loading_loader__cpdbt",load:"Loading_load__8NQtO"}},8041:function(e){e.exports={container:"map_container__Oqp4f",mapWrapper:"map_mapWrapper__1_3pi",blurred:"map_blurred__c4Upe",postButton:"map_postButton__J5imn",popup:"map_popup__I387y",popupContent:"map_popupContent__QJI8d",sendButton:"map_sendButton__aVyVz",nearInfo:"map_nearInfo__GUsCz",infoNumber:"map_infoNumber__5jGUy",likeCount:"map_likeCount__zUlXf"}},5293:function(e){e.exports={container:"BasicHeader_container__ASIaK",main:"BasicHeader_main__Vqufr",userBtn:"BasicHeader_userBtn__wlK48",userIcon:"BasicHeader_userIcon__UecGa",userName:"BasicHeader_userName__KiR1h",logoImage:"BasicHeader_logoImage__uFMXP"}}}]);